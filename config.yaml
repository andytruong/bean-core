version: "1.0-SNAPSHOT"

# ---------------------
# Server configuration
# ---------------------
http-server:
  address: ":8484"
  readTimeout:  15s
  writeTimeout: 15s
  idleTimeout: 15s
  graphql:
    playround:
      title: "GraphQL playground"
      enabled: true
      path: /

# ---------------------
# Database connections
# ---------------------
databases:
  master:
    driver: "${DB_DRIVER:sqlite3}"
    url:    "${DB_MASTER_URL:resources/dev.sqlite}"
  slave:
    driver: "${DB_SLAVE_URL:sqlite3}"
    url:    "${DB_SLAVE_URL:resources/dev.sqlite}"

# ---------------------
# Modules configuration
#
# Each module may have its own config
# ---------------------
modules:
  # ---------------------
  # Namespace module
  # ---------------------
  namespace:
    manager:
      maxNumberOfManager: 100

  # ---------------------
  # Access module
  # ---------------------
  access:
    timeout: "128h"
    # Algorithm is `RS512` because we don't need providing private-key for services to verify the claims.
    # To avoid configuration issues, path to keys should be absolute.
    jwt:
      algorithm: "RS512"
      publicKey: "${JWT_PUBLIC_KEY:resources/keys/id_rsa.pub}"
      privateKey: "${JWT_PRIVATE_KEY:resources/keys/id_rsa}"
      timeout: "${JWT_TIMEOUT:5m}"
